<!doctype html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8">
  <title>NL yubikey stappen via de cli een Minimale
ingebruikname</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
    
  <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
    <nav class="breadcrumbs"><a href="../../../index.html">Home</a> › <a href="../../index.html">Linux</a> › <a href="../index.html">Yubikey</a> › NL yubikey ingebruikname</nav>
  
  <main>
    <h1 id="yubikey-basisconfiguratie"><strong>YubiKey
    basisconfiguratie</strong></h1>
    <h4 id="een-korte-introductie-voor-gebruik-via-de-linux-cli">Een
    korte introductie voor gebruik via de Linux CLI</h4>
    <p>Stap 1 t/m stap 8 zijn het <strong>absolute minimum</strong> dat
    je moet uitvoeren voordat je je YubiKey in gebruik neemt. Als je
    deze stappen overslaat, is er <strong>niets echt veilig</strong> aan
    het gebruik van je YubiKey.</p>
    <p>Hardware-tokens zijn een krachtig hulpmiddel en kunnen je
    beveiliging naar een zeer hoog niveau tillen — <strong>maar alleen
    wanneer je ze correct gebruikt</strong>. Wees je ervan bewust dat
    hardware-tokens <strong>verkeerd gebruiken níét</strong> resulteert
    in een veiliger gebruikersomgeving.</p>
    <p>Deze instructie is gebaseerd op de YubiKey-handleiding die hier
    te vinden is: <strong><a
    href="https://developers.yubico.com/SSH/Securing_SSH_with_FIDO2.html">Securing
    SSH with FIDO2</a></strong></p>
    <blockquote>
    <p><strong>Gebruik nooit SSH agent forwarding met je YubiKey — of
    enige vorm van <code>ssh -a</code> — eigenlijk is het het beste om
    agent forwarding helemaal niet te gebruiken.</strong></p>
    </blockquote>
    <hr />
    <h2 id="installeer-de-benodigde-software"><strong>1. Installeer de
    benodigde software</strong></h2>
    <p>In mijn geval (Debian-gebaseerde systemen) heb ik de volgende
    pakketten toegevoegd:</p>
    <div class="sourceCode" id="cb1"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-add-repository ppa:yubico/stable</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install yubikey-manager yubikey-personalization-gui</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install yubikey-personalization-gui sudo libpam-yubico</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install libpam-yubico</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install yubikey-manager-qt</span></code></pre></div>
    <hr />
    <h2 id="controleer-de-yubikey"><strong>2. Controleer de
    YubiKey</strong></h2>
    <p>Voer het commando <code>ykman info</code> uit om te controleren
    of je device wordt gedetecteerd:</p>
    <div class="sourceCode" id="cb2"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> info</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Device</span> type: YubiKey 5C NFC</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Serial</span> number: 12345678</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Firmware</span> version: 5.7.4</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Form</span> factor: Keychain <span class="er">(</span><span class="ex">USB-C</span><span class="kw">)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Enabled</span> USB interfaces: OTP, FIDO, CCID</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">NFC</span> transport is enabled</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Configured</span> capabilities are protected by a lock code</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Applications</span>   USB      NFC</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Yubico</span> OTP     Enabled  Enabled</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="ex">FIDO</span> U2F       Enabled  Enabled</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="ex">FIDO2</span>          Enabled  Enabled</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="ex">OATH</span>           Enabled  Enabled</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="ex">PIV</span>            Enabled  Enabled</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="ex">OpenPGP</span>        Enabled  Enabled</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="ex">YubiHSM</span> Auth   Enabled  Enabled</span></code></pre></div>
    <hr />
    <h2 id="fido2"><strong>3. FIDO2</strong></h2>
    <h3 id="verander-de-standaard-fido2-pin"><strong>Verander de
    standaard FIDO2-PIN</strong></h3>
    <p>Voor betere beveiliging stel je een FIDO2-PIN in voor je
    YubiKey:</p>
    <div class="sourceCode" id="cb3"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> fido access change-pin</span></code></pre></div>
    <p>Je wordt gevraagd om:</p>
    <ul>
    <li>huidige PIN (of leeg laten als hij nog standaard is)</li>
    <li>nieuwe PIN</li>
    <li>bevestiging</li>
    </ul>
    <hr />
    <h2 id="controleer-de-pin"><strong>4. Controleer de
    PIN</strong></h2>
    <div class="sourceCode" id="cb4"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> fido access verify-pin</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> your PIN:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">PIN</span> verified.</span></code></pre></div>
    <hr />
    <h1 id="piv-smartcard"><strong>PIV (Smartcard)</strong></h1>
    <h2 id="standaardwaarden"><strong>Standaardwaarden</strong></h2>
    <p>Voor het aanpassen van PIV-toegang heb je de standaardwaarden
    nodig:</p>
    <ul>
    <li><strong>Standaard PIN:</strong> <code>123456</code></li>
    <li><strong>Standaard PUK:</strong> <code>12345678</code></li>
    <li><strong>Standaard management key:</strong> (Yubico 24-byte
    standaard key, tenzij gewijzigd)</li>
    </ul>
    <hr />
    <h2 id="verander-de-pin"><strong>5. Verander de PIN</strong></h2>
    <div class="sourceCode" id="cb5"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> piv access change-pin</span></code></pre></div>
    <hr />
    <h2 id="verander-de-puk"><strong>6. Verander de PUK</strong></h2>
    <div class="sourceCode" id="cb6"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> piv access change-puk</span></code></pre></div>
    <hr />
    <h2 id="verander-de-management-key"><strong>7. Verander de
    Management Key</strong></h2>
    <p>Ik raad aan om automatisch een nieuwe management key te
    genereren:</p>
    <div class="sourceCode" id="cb7"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> piv access change-management-key <span class="at">--protect</span> <span class="at">--generate</span></span></code></pre></div>
    <blockquote>
    <p><strong>BEWAAR je management key en PUK op een veilige
    plek.</strong> Ik heb er zelf een QR-code van gemaakt en deze
    offline opgeslagen.</p>
    </blockquote>
    <hr />
    <h2 id="controleer-fido-credentials"><strong>8. Controleer
    FIDO-credentials</strong></h2>
    <p>Controleer of de PIN werkt — dit commando zou ernaar moeten
    vragen:</p>
    <div class="sourceCode" id="cb8"><pre
    class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ykman</span> fido credentials list</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Enter</span> your PIN:</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Credential</span> ID  RP ID  Username  Display name</span></code></pre></div>
    <hr />
  </main>

  
  <footer>
          <p class="render-date">
        Website last rendered on <time datetime="2026 February 01">2026
February 01</time> with <a href="https://pandoc.org/">Pandoc</a> 
      </p>
      <p>have a look at Benjamin Italiaander his <a href="https://github.com/Benjamin-Italiaander/peronal-links/wiki"> Personal Links</a></p>
      </footer>
</body>
</html>
